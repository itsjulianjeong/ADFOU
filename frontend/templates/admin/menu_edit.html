<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë©”ë‰´ ìˆœì„œ ì¡°ì •</title>
    <style>
        td { text-align: center; padding: 5px; }
        button.move-btn { font-size: 14px; margin: 0 2px; }
    </style>
</head>
<body>
    {% include 'admin/navbar.html' %}

    <h2>ë©”ë‰´ ì •ë ¬ ìˆœì„œ ì¡°ì •</h2>

    <form id="menuForm" method="post">
        <table id="menuTable" border="1">
            <tr><th>ë©”ë‰´</th><th>ê°€ê²©</th><th>ìˆœì„œ ì¡°ì •</th></tr>
            {% for menu in menu_list %}
            <tr>
                <td>
                    <input type="hidden" name="menu_id" value="{{ menu[0] }}">
                    {{ menu[1] }}
                </td>
                <td>{{ menu[2] }}ì›</td>
                <td>
                    <button type="button" class="move-btn" onclick="moveUp(this)">ğŸ”¼</button>
                    <button type="button" class="move-btn" onclick="moveDown(this)">â¬‡ï¸</button>
                </td>
            </tr>
            {% endfor %}
        </table>
        <br>
        <button type="submit">ì €ì¥</button>
    </form>

    <script>
        function moveUp(btn) {
            const row = btn.closest("tr");
            const prev = row.previousElementSibling;
            if (prev && prev.rowIndex !== 0) {
                row.parentNode.insertBefore(row, prev);
            }
        }

        function moveDown(btn) {
            const row = btn.closest("tr");
            const next = row.nextElementSibling;
            if (next) {
                row.parentNode.insertBefore(next, row);
            }
        }

        // í¼ ì „ì†¡ ì‹œ í˜„ì¬ í–‰ ìˆœì„œëŒ€ë¡œ hidden menu_id ì „ì†¡ë¨
    </script>
</body>
</html>
